# My Twitter — Учебный клон Twitter на FastAPI

## Описание

**My Twitter** — это учебный проект, реализующий основные функции Twitter: создание твитов, лайки, медиа, подписки и работу с пользователями. Проект построен на FastAPI, использует PostgreSQL для хранения данных и полностью контейнеризирован с помощью Docker.

---

## Основные возможности

- Аутентификация пользователей
- Создание, удаление и просмотр твитов
- Лайки и медиа-вложения к твитам
- Подписки/отписки на пользователей
- REST API с документацией Swagger
- Раздача статики через Nginx

---

## Быстрый старт

1. Клонируйте репозиторий:
   ```bash
   git clone <repo_url>
   cd python_advanced_diploma
   ```
2. Запустите проект:
   ```bash
   docker-compose up --build
   ```
3. Откройте:
   
   - Swagger: http://localhost/docs
   - Веб-интерфейс: http://localhost

---

## Структура проекта

```
python_advanced_diploma/
│
├── my_twitter/                # Основное приложение
│   ├── main.py                # Точка входа FastAPI
│   ├── config.py              # Конфигурация приложения
│   ├── dependencies.py        # Глобальные зависимости (например, текущий пользователь)
│   ├── alembic/               # Миграции базы данных
│   ├── alembic.ini            # Настройки Alembic
│   ├── core/                  # Базовые компоненты и инфраструктура
│   │   ├── database/          # Подключение к БД
│   │   ├── error/             # Кастомные исключения
│   │   ├── models/            # Общие модели
│   │   ├── repositories/      # Базовые репозитории
│   │   ├── services/          # Базовые сервисы
│   │   ├── unit_of_work/      # Unit of Work pattern
│   │   └── use_case/          # Базовые use-case'ы
│   └── features/              # Бизнес-логика по фичам (tweet, user, like, media)
│       ├── tweet/             # Работа с твитами
│       │   ├── data/          # Реализация репозиториев и моделей хранения
│       │   ├── domain/        # Доменные сущности, use-case'ы, интерфейсы
│       │   └── presentation/  # Роуты и схемы FastAPI
│       ├── user/              # Работа с пользователями и подписками
│       ├── like/              # Лайки твитов
│       └── media/             # Медиа-вложения к твитам
│
├── static/                    # Статические файлы (HTML, CSS, JS)
├── tests/                     # Тесты (папка для unit/integration тестов)
├── Dockerfile                 # Docker-образ приложения
├── docker-compose.yml         # Docker Compose для запуска всех сервисов
├── nginx.conf                 # Конфиг nginx для раздачи статики и проксирования API
├── requirements.txt           # Основные зависимости Python
└── requirements-dev.txt       # Dev-зависимости (опционально)
```

---

## Подробнее о содержимом `my_twitter/`

- **main.py** — Точка входа FastAPI-приложения, подключение роутеров, настройка middlewares.
- **config.py** — Загрузка и хранение конфигураций (например, переменные окружения, настройки БД).
- **dependencies.py** — Глобальные зависимости для FastAPI (например, получение текущего пользователя).
- **alembic/** и **alembic.ini** — Миграции базы данных (создание и изменение таблиц).
- **core/** — Базовые абстракции и инфраструктурные компоненты:
  - **database/** — Подключение к PostgreSQL, сессии, engine.
  - **error/** — Кастомные исключения для разных доменов (like, media, tweet, user).
  - **models/** — Общие модели, используемые в разных частях приложения.
  - **repositories/** — Базовые классы репозиториев.
  - **services/** — Базовые сервисы (например, query-сервисы).
  - **unit_of_work/** — Реализация паттерна Unit of Work для транзакций.
  - **use_case/** — Базовые use-case'ы.
- **features/** — Основная бизнес-логика, разбитая по фичам:
  - **tweet/** — Всё, что связано с твитами (создание, удаление, получение, схемы, роуты).
  - **user/** — Работа с пользователями (подписки, получение профиля).
  - **like/** — Лайки твитов (доменные сущности, репозитории, use-case'ы, роуты).
  - **media/** — Работа с медиа (загрузка, хранение, привязка к твитам).

---

## Примечания

- Все переменные окружения должны быть определены в `my_twitter/.env`.
- Для запуска тестов используйте отдельную БД и dev-зависимости.
- Swagger-документация доступна по `/api/docs` после запуска.

---

